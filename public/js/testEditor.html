
<!DOCTYPE html>
<html lang="zh-TW">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf8">
	<!-- <link href="../css/bootstrap.min.css" rel="stylesheet" media="screen" > -->
	<style>
		div canvas {
			cursor: pointer;
		}
	</style>

  	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5.2/jquery.min.js" type="text/javascript"></script>
  	<!-- <script src="bootstrap.min.js" ></script> -->
  	<script src="SimplePainter.js"></script>
	
	<script>
	
	var painter ;

	$(document).ready(function() {
		//alert('init !');
		painter = ischool.SimplePainter.create( {
			canvasID : 'canvas',
			penSize : 10,
			penColor : '#FF0000',
			penType : 'pen'
		});

		// painter.setPenColor('#00FF00');
		// painter.setPenSize(1);
	});
	
	
	
	var clearCanvas = function() {
		var answer = confirm("確定要清空畫面嗎？")
		if (answer){
			painter.clean();
		}
	};
	
	var  saveImage = function() {
		$("#result").html('<br /><img src='+ painter.toDataURL()+' /><br />');
	};

	var changeColor = function() {
		var elm = document.getElementById('selColor');
		var color = elm.value ;
		painter.setPenColor(color);
	};

	var changePenSize = function() {
		var elm = document.getElementById('selPenSize');
		var size = elm.value ;
		painter.setPenSize(size);
	};


	var changePenType = function() {
		var elm = document.getElementById('selPenType');
		var theType = elm.value ;
		painter.setPenType(theType);
	};


	// var ischool = ischool || {} ;
	// ischool.Util = function() {

	// 	return {
	// 		log : function(msg) {
	// 			if (console)
	// 				console.log(msg);
	// 		}
	// 	}
	// }();
	</script>
</head>
<body style="position:relative;">

	<button onclick="saveImage();">取得圖片</button>
	
	<button onclick="clearCanvas();">清空畫面</button>

	<select onchange="changeColor()" id="selColor">
		<option value="red" style="color:red">Red</option>
		<option value="green" style="color:green">Green</option>
		<option value="blue" style="color:blue">Blue</option>
	</select>

	<select onchange="changePenSize()" id="selPenSize">
		<option value="1" style="color:red">1</option>
		<option value="5" style="color:green">5</option>
		<option value="10" selected style="color:blue">10</option>
	</select>

	<select onchange="changePenType()" id="selPenType">
		<option value="pen" style="color:red">畫筆</option>
		<option value="eraser" style="color:green">橡皮擦</option>
	</select>

	<!-- 測試在位移的情況下，Canvas 是否正常運作 ？ --> 
	<div style="padding-left:50px; padding-top:30px;margin-left:20px;margin-top:30px;">
		<canvas id="canvas" width="800px" height="600px" style="background-color:white;border-radius: 5px;border: 5px solid lightblue;"></canvas>
	</div>

	<!-- 顯示測試結果 -->
	<div id="result"></div>
		
	</div>

</body>
</html>